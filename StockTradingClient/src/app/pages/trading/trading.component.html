<div class="trading-widget-container">
  <div class="trading">
    <h2>Trading</h2>

    <div class="trade-form">
      <h3>Buy/Sell Stocks</h3>
      <form #tradeForm="ngForm">
        <div class="form-group">
          <label for="symbol">Stock Symbol</label>
          <select id="symbol" [(ngModel)]="symbol" name="symbol" required>
            <option *ngFor="let sym of supportedSymbols" [value]="sym">{{ sym }}</option>
          </select>
        </div>

        <div class="form-group">
          <label for="shares">Number of Shares</label>
          <input type="number" id="shares" [(ngModel)]="shares" name="shares" required min="1">
        </div>

        <div class="form-buttons">
          <button type="button" class="btn-buy" (click)="onBuy(tradeForm)">Buy</button>
          <button type="button" class="btn-sell" (click)="onSell(tradeForm)">Sell</button>
        </div>
      </form>
    </div>

    <div class="transaction-history">
      <h3>Transaction History</h3>
      <table>
        <thead>
          <tr>
            <th>Date</th>
            <th>Stock</th>
            <th>Shares</th>
            <th>Type</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let transaction of transactions">
            <td>{{ transaction.timestamp | date: 'short' }}</td>
            <td>{{ transaction.stockSymbol }}</td>
            <td>{{ transaction.quantity }}</td>
            <td>{{ transaction.isBuy ? 'Buy' : 'Sell' }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="widget">
    <app-stock-prices-trading-widget></app-stock-prices-trading-widget>
  </div>
</div>